import{V as x,r,a as h,j as e}from"./app-D_W3hKl1.js";import u from"./Master-C1QC2gFZ.js";import{d as j}from"./index-DZ6zD-KU.js";import"./Footer-TlX0IQiB.js";import"./Nav-wOqnItCM.js";import"./Script-By3RXvDw.js";import"./Side-B7SL-hek.js";function w(){const{categories:a,flash:s}=x().props,[i,c]=r.useState(a||[]),[l,n]=r.useState(!!(s!=null&&s.status));h(),r.useEffect(()=>{if(s!=null&&s.status){const t=setTimeout(()=>{n(!1)},3e3);return()=>clearTimeout(t)}},[s==null?void 0:s.status]);const o=t=>{confirm("Are you sure you want to delete this category?")&&j.Inertia.delete(route("admin.category.destroy",{category:t}),{preserveScroll:!0,onSuccess:()=>{console.log("Category deleted successfully!"),c(d=>d.filter(m=>m.id!==t))}})};return e.jsx(e.Fragment,{children:e.jsxs(u,{children:[e.jsx("h1",{className:"text-3xl font-bold text-center",children:"Categories"}),l&&e.jsxs("div",{className:"alert alert-success d-flex justify-content-between",children:[s.status,e.jsx("button",{onClick:()=>n(!1),className:"btn-close"})]}),e.jsxs("div",{className:"container bg-light my-2 p-3",children:[e.jsx("a",{href:route("admin.category.create"),className:"btn btn-primary text-left mb-3",children:"Create"}),i.length>0?e.jsxs("table",{className:"table table-striped",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"ID"}),e.jsx("th",{children:"Name"}),e.jsx("th",{children:"Description"}),e.jsx("th",{children:"Actions"})]})}),e.jsx("tbody",{children:i.map(t=>e.jsxs("tr",{children:[e.jsx("td",{children:t.id}),e.jsx("td",{children:t.name}),e.jsx("td",{children:t.description}),e.jsxs("td",{children:[e.jsx("a",{href:route("admin.category.edit",{category:t.id}),className:"btn btn-sm btn-warning mx-1",children:"Edit"}),e.jsx("button",{onClick:()=>o(t.id),className:"btn btn-sm btn-danger",children:"Delete"})]})]},t.id))})]}):e.jsx("p",{className:"text-center text-muted",children:"No categories available."})]})]})})}export{w as default};
